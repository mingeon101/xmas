<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Christmas Gift</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Serif+KR:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #d4af37;
            --deep-red: #4a0404;
            --wine: #800020;
        }

        body {
            margin: 0;
            background: radial-gradient(circle at center, var(--wine), #000);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: 'Noto Serif KR', serif;
            color: white;
        }

        /* ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ëˆˆ íš¨ê³¼ */
        .snow {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        /* ì„ ë¬¼ ìƒì ì»¨í…Œì´ë„ˆ */
        .stage {
            text-align: center;
            z-index: 10;
            transition: all 1s ease;
        }

        .title {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 50px;
            letter-spacing: 5px;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        /* ì„ ë¬¼ ìƒì ë””ìì¸ */
        .gift-wrapper {
            position: relative;
            cursor: pointer;
            width: 150px;
            height: 150px;
            margin: 0 auto;
        }

        .gift-emoji {
            font-size: 120px;
            filter: drop-shadow(0 0 30px rgba(212, 175, 55, 0.6));
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .gift-wrapper:hover .gift-emoji {
            transform: scale(1.1) rotate(-5deg);
        }

        /* íŒ½ì°½ ë° í­ë°œ ì• ë‹ˆë©”ì´ì…˜ */
        .explode {
            animation: expandAndFade 0.8s forwards;
        }

        @keyframes expandAndFade {
            0% { transform: scale(1); filter: brightness(1); }
            40% { transform: scale(4); filter: brightness(3); opacity: 0.7; }
            100% { transform: scale(10); opacity: 0; visibility: hidden; }
        }

        /* QR ê²°ê³¼ ì¹´ë“œ (Glassmorphism) */
        #result-card {
            display: none;
            opacity: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 30px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            transform: translateY(50px);
            transition: all 1s ease;
        }

        #result-card.show {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .qr-frame {
            background: white;
            padding: 15px;
            border-radius: 15px;
            display: inline-block;
            margin: 20px 0;
            box-shadow: 0 0 20px var(--gold);
        }

        .btn-link {
            display: block;
            margin-top: 20px;
            color: var(--gold);
            text-decoration: none;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--gold);
            padding-bottom: 5px;
        }

    </style>
</head>
<body>

    <div id="player"></div>

    <div class="snow" id="snowCanvas"></div>

    <div class="stage" id="main-stage">
        <h1 class="title">A GIFT FOR YOU</h1>
        <div class="gift-wrapper" onclick="unveilGift()">
            <div class="gift-emoji" id="target-gift">ğŸ</div>
        </div>
        <p style="margin-top: 30px; opacity: 0.7; font-weight: 100;">ìƒìë¥¼ í„°ì¹˜í•˜ì—¬ ìŒì•…ê³¼ ì„ ë¬¼ì„ í™•ì¸í•˜ì„¸ìš”</p>
    </div>

    <div id="result-card">
        <h2 style="font-family: 'Cinzel'; color: var(--gold);">Merry Christmas</h2>
        <p>ë‹¹ì‹ ì„ ìœ„í•´ ì¤€ë¹„í•œ íŠ¹ë³„í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.</p>
        <div class="qr-frame">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://happyxmas.goryat.kro.kr" alt="QR">
        </div>
        <a href="https://happyxmas.goryat.kro.kr" class="btn-link">happyxmas.goryat.kro.kr</a>
    </div>

    <script>
        // 1. YouTube API ë¡œë“œ ë° ìŒì•… ì„¤ì •
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: 'E8Z-yWpgas8', // Wham! - Last Christmas
                playerVars: { 
                    'autoplay': 0, 
                    'controls': 0,
                    'start': 50 // í•˜ì´ë¼ì´íŠ¸ ë¶€ë¶„ë¶€í„° ì‹œì‘
                }
            });
        }

        // 2. ì„ ë¬¼ ê³µê°œ í•¨ìˆ˜
        function unveilGift() {
            const gift = document.getElementById('target-gift');
            const stage = document.getElementById('main-stage');
            const card = document.getElementById('result-card');

            // ìŒì•… ì¬ìƒ
            if (player && player.playVideo) {
                player.playVideo();
            }

            // ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
            gift.classList.add('explode');

            setTimeout(() => {
                stage.style.display = 'none';
                card.classList.add('show');
                document.body.style.background = "linear-gradient(to bottom, #1a0101, #4a0404)";
            }, 700);
        }

        // 3. ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ëˆˆì†¡ì´ ìƒì„±
        function createSnow() {
            const snowContainer = document.getElementById('snowCanvas');
            const flake = document.createElement('div');
            const size = Math.random() * 4 + 2 + 'px';
            
            flake.style.position = 'absolute';
            flake.style.top = '-10px';
            flake.style.left = Math.random() * 100 + 'vw';
            flake.style.width = size;
            flake.style.height = size;
            flake.style.background = 'white';
            flake.style.borderRadius = '50%';
            flake.style.filter = 'blur(1px)';
            flake.style.opacity = Math.random();
            flake.style.pointerEvents = 'none';
            
            const duration = Math.random() * 5 + 5;
            flake.animate([
                { transform: `translateY(0) translateX(0)` },
                { transform: `translateY(105vh) translateX(${Math.random() * 50 - 25}px)` }
            ], {
                duration: duration * 1000,
                easing: 'linear'
            });

            snowContainer.appendChild(flake);
            setTimeout(() => flake.remove(), duration * 1000);
        }
        setInterval(createSnow, 150);
    </script>
</body>
</html>
